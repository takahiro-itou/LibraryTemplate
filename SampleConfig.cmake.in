
##----------------------------------------------------------------
##
##    外部から参照するためのコンフィグレーションファイル。
##
##----------------------------------------------------------------

##----------------------------------------------------------------
##
##    @todo
##    ここにモジュールのディレクトリ名を列挙する。
##

set(@project_name@_MODULE_DIRS_LIST
        .Config  Common
)

##----------------------------------------------------------------


##  カレントディレクトリの名前を取得する。

set_filename_component(@project_name@_ROOT_DIR
        "${CMAKE_CURRENT_LIST_FILE}"  PATH)

##  ライブラリファイルが格納されるトップディレクトリ。

set(@project_name@_LIBTOP_DIR
        "${@project_name@_ROOT_DIR}/@LIBTOP_DIR_NAME@"
)

message("Searching Modules From : ${@project_name@_LIBTOP_DIR}")

##  各モジュールのディレクトリを順に処理する。

ForEach (@project_name@_MODULE_NAME  ${@project_name@_MODULE_DIRS_LIST})

    ##  対象のディレクトリ名。
    set(@project_name@_TARGET_DIR
        "${@project_name@_LIBTOP_DIR}/${@project_name@_MODULE_NAME}"
    )
    message("Searching Config Files : ${@project_name@_TARGET_DIR}")

    ##  対象ディレクトリからエクスポートファイルを検索する。
    file(GLOB   @project_name@_MODULE_CONFIG_FILES
            "${@project_name@_TARGET_DIR}/@project_name@-*-Export.cmake"
    )

    ##  検索で見つかったファイルをインクルードする。
    ForEach (@project_name@_FILE  ${@project_name@_MODULE_CONFIG_FILES})
        message("Loading Module Config : ${@project_name@_FILE}")
        Include (${@project_name@_FILE})
    EndForEach ()

EndForEach()
